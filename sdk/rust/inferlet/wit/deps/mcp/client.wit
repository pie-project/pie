/// MCP client interface â€” lets inferlets discover and call MCP servers.
interface client {
    use types.{error, json, content};

    /// An active connection to an MCP server.
    /// Dropping the resource closes the connection.
    resource session {

        /// List tools exposed by this server.
        list-tools: func() -> result<json, error>;

        /// Call a tool by name with JSON arguments.
        call-tool: func(
            name: string,
            args: json,
        ) -> result<list<content>, error>;

        /// List resources exposed by this server.
        list-resources: func() -> result<json, error>;

        /// Read a resource by URI.
        read-resource: func(uri: string) -> result<list<content>, error>;

        /// List prompts exposed by this server.
        list-prompts: func() -> result<json, error>;

        /// Render a prompt template with the given arguments.
        get-prompt: func(
            name: string,
            args: json,
        ) -> result<json, error>;
    }

    /// Discover available MCP servers.
    available-servers: func() -> list<string>;

    /// Connect to a named MCP server, performing the MCP handshake.
    connect: func(server-name: string) -> result<session, error>;
}
